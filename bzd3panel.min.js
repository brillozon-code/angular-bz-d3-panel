!function(){"use strict";angular.module("bzD3",[])}(),function(){"use strict";function a(a,b,c){function d(){c.$apply(function(){e.resolve(window.d3)})}var e=b.defer(),f=a[0].createElement("script");f.type="text/javascript",f.async=!0,f.src="http://d3js.org/d3.v3.min.js",f.onload=d,f.onreadystatechange=function(){"complete"==this.readyState&&d()};var g=a.prop("body");return g.appendChild(f),{d3:function(){return e.promise}}}angular.module("bzD3").factory("d3Service",a),a.$inject=["$document","$q","$rootScope"]}(),function(){"use strict";function a(a,b){return{restrict:"EA",template:"<div ng-transclude></div>",transclude:!0,scope:{content:"=",draw:"="},link:function(c,d,e){a.d3().then(function(a){var f=(parseInt(e.margin)||20,parseInt(e.height)||50,parseInt(e.padding)||5,a.select(d[0]).insert("svg",":first-child"));b.onresize=function(){c.$apply},c.$watch(function(){return d[0].firstElementChild.clientWidth},function(){c.content&&c.render(c.content.data)}),c.$watch("content",function(a,b){return c.content?c.render(c.content.data):void 0},!0),c.defaultDraw=function(a,b,c,d,e){b.style("stroke-width","0px").style("background-color","#bf8ea6").style("height",e.height).style("width","100%");var f=b.selectAll("g").data(c).enter().append("g");f.append("circle").style("fill","red").style("stroke","black").style("stroke-width","2").attr("cx",45).attr("cy",45).attr("r",40),f.append("text").attr("x",10).attr("y",40).text("LOL WUT")},c.render=function(b){if(c.draw)b&&c.draw(a,f,b,d,e);else{var g=[0];c.defaultDraw(a,f,g,d,e)}}})}}}angular.module("bzD3").directive("bzD3Panel",a),a.$inject=["d3Service","$window"]}();