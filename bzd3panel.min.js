!function(){"use strict";angular.module("bzD3",[])}(),function(){"use strict";function a(a,b,c){function d(){c.$apply(function(){e.resolve(window.d3)})}var e=b.defer(),f=a[0].createElement("script");f.type="text/javascript",f.async=!0,f.src="http://d3js.org/d3.v3.min.js",f.onload=d,f.onreadystatechange=function(){"complete"==this.readyState&&d()};var g=a.prop("body");return g.appendChild(f),{d3:function(){return e.promise}}}angular.module("bzD3").factory("d3Service",a),a.$inject=["$document","$q","$rootScope"]}(),function(){"use strict";function a(a,b){return{restrict:"EA",template:"<div ng-transclude></div>",transclude:!0,scope:{content:"=",draw:"="},link:function(c,d,e){a.d3().then(function(a){{var f;parseInt(e.margin)||20,parseInt(e.padding)||5}e.height?f=parseInt(e.height):(f=$(d).parent().height(),e.height=f);var g;e.width?g=parseInt(e.width):(g=$(d).parent().width(),e.width=g);var h=a.select(d[0]).insert("svg",":first-child").style("height",f).style("width",g);b.onresize=function(){c.$apply},c.$watch(function(){return d[0].firstElementChild.clientWidth},function(){c.content&&c.render(c.content)}),c.$watchCollection("content",function(a,b){return c.content?c.render(c.content):void 0},!0),c.defaultDraw=function(a,b,c,d,e){b.style("stroke-width","0px").style("background-color","#bf8ea6");var h=b.selectAll("g").data(c).enter().append("g");h.append("circle").style("fill","red").style("stroke","black").style("stroke-width","2").attr("cx",g/2).attr("cy",f/2).attr("r",40),h.append("text").attr("x",g/2-30).attr("y",f/2-10).text("LOL WUT")},c.render=function(b){if(c.draw)b&&c.draw(a,h,b,d,e);else{var f=[0];c.defaultDraw(a,h,f,d,e)}}})}}}angular.module("bzD3").directive("bzD3Panel",a),a.$inject=["d3Service","$window"]}();